<ui:FluentWindow x:Class="VrcxPredictor.App.MainWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 xmlns:pages="clr-namespace:VrcxPredictor.App.Views.Pages"
                 Title="VRCX Predictor"
                 Width="1200"
                 Height="820"
                 WindowBackdropType="Mica"
                 ExtendsContentIntoTitleBar="True">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <ui:TitleBar x:Name="AppTitleBar"
                     Height="32"
                     Padding="8,0,8,0"
                     ShowMinimize="True"
                     ShowMaximize="True"
                     ShowClose="True" />

        <ui:NavigationView x:Name="RootNavigation"
                           Grid.Row="1"
                           PaneDisplayMode="LeftMinimal"
                           OpenPaneLength="200"
                           CompactPaneLength="44"
                           IsPaneOpen="True"
                           IsBackButtonVisible="Collapsed">
            <ui:NavigationView.Header>
                <Grid Margin="12,12,12,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <ui:SymbolIcon Symbol="People24" />
                        <TextBlock Text="VRCX Predictor" FontSize="18" FontWeight="SemiBold" Margin="8,0,0,0" />
                        <TextBlock Text="— 上线/下线 规律预测" Opacity="0.75" Margin="12,0,0,0" />
                    </StackPanel>

                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                        <ui:Button Content="保存配置"
                                   Command="{Binding SaveConfigCommand}"
                                   Margin="0,0,8,0" />
                        <ui:Button Content="主题切换"
                                   Command="{Binding ToggleThemeCommand}" />
                    </StackPanel>
                </Grid>
            </ui:NavigationView.Header>

            <ui:NavigationView.MenuItems>
                <ui:NavigationViewItem Content="仪表盘"
                                       Icon="{ui:SymbolIcon Home24}"
                                       TargetPageType="{x:Type pages:DashboardPage}" />
                <ui:NavigationViewItem Content="热力图"
                                       Icon="{ui:SymbolIcon Map24}"
                                       TargetPageType="{x:Type pages:HeatmapsPage}" />
                <ui:NavigationViewItem Content="会话列表"
                                       Icon="{ui:SymbolIcon List24}"
                                       TargetPageType="{x:Type pages:SessionsPage}" />
                <ui:NavigationViewItem Content="帮助"
                                       Icon="{ui:SymbolIcon Question24}"
                                       TargetPageType="{x:Type pages:HelpPage}" />
            </ui:NavigationView.MenuItems>

            <ui:NavigationView.FooterMenuItems>
                <ui:NavigationViewItem Content="关于"
                                       Icon="{ui:SymbolIcon Info24}"
                                       TargetPageType="{x:Type pages:AboutPage}" />
            </ui:NavigationView.FooterMenuItems>
        </ui:NavigationView>

        <Canvas Grid.RowSpan="2" Panel.ZIndex="10">
            <ui:SnackbarPresenter x:Name="SnackbarPresenter"
                                  Canvas.Right="16"
                                  Canvas.Top="16" />
        </Canvas>
    </Grid>
</ui:FluentWindow>
