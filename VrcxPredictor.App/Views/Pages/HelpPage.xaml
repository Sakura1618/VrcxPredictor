<Page x:Class="VrcxPredictor.App.Views.Pages.HelpPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      Title="Help">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="16">
            <ui:CardControl Padding="18" HorizontalContentAlignment="Left">
                <StackPanel>
                    <TextBlock Text="帮助" FontSize="22" FontWeight="SemiBold"/>
                    <TextBlock Text="这里说明各项可配置参数的用途、影响与建议。" Opacity="0.8" Margin="0,6,0,0"/>

                    <Separator Margin="0,10,0,10"/>

                    <TextBlock Text="数据源" FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="• VRCX.sqlite3：指定 VRCX 数据库位置。更换数据库会影响所有分析结果。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,6,0,0"/>
                    <TextBlock Text="• 表：选择要分析的事件表（通常是含有 Online/Offline 日志的表）。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>
                    <TextBlock Text="• 显示名称：目标用户 display_name。可手动输入或从下拉列表选择。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>

                    <Separator Margin="0,10,0,10"/>

                    <TextBlock Text="时间与解析" FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="• 时区：决定结果显示的本地时区，影响热力图与时间窗口。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,6,0,0"/>
                    <TextBlock Text="• 记录时间：created_at 解析模式（utc/local）。若出现整体时间偏移（如差 8 小时），尝试切换。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>

                    <Separator Margin="0,10,0,10"/>

                    <TextBlock Text="模型参数" FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="• 半衰期(天)：越小越偏重近期习惯，越大越重视长期规律。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,6,0,0"/>
                    <TextBlock Text="• 历史天数：参与分析的历史窗口长度。太短可能样本不足，太长可能过时。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>
                    <TextBlock Text="• Bin(分钟)：时间分桶大小。越小越精细，但需要更多数据支撑。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>

                    <Separator Margin="0,10,0,10"/>

                    <TextBlock Text="时间模型升级" FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="• 周末/工作日分开：分别建模周末与工作日，避免混合导致的噪声。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,6,0,0"/>
                    <TextBlock Text="• 最近N周权重：仅使用最近 N 周并提高权重，近期行为影响更大。设为 0 表示不限制。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>
                    <TextBlock Text="• 节假日：YYYY-MM-DD，逗号分隔。节假日会按“周末”处理。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>
                    <TextBlock Text="• 调休工作日：YYYY-MM-DD，逗号分隔。调休工作日会按“工作日”处理。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>

                    <Separator Margin="0,10,0,10"/>

                    <TextBlock Text="操作与保存" FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="• 保存配置：将当前参数写入本地 config.json，下次启动自动读取。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,6,0,0"/>
                    <TextBlock Text="• 主题切换：切换浅色/深色主题，不影响分析结果。"
                               TextWrapping="Wrap" Opacity="0.85" Margin="0,4,0,0"/>
                </StackPanel>
            </ui:CardControl>
        </Grid>
    </ScrollViewer>
</Page>
